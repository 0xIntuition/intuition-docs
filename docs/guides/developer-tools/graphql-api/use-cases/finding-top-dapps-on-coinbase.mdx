---
id: finding-top-dapps-on-coinbase
title: Finding Top Dapps on Coinbase
sidebar_label: Finding Top Dapps on Coinbase
sidebar_position: 6
description: Step-by-step guide to query and ranking top decentralized applications on Coinbase
---

import GraphQLPlaygroundCustom from '@site/src/components/GraphQLPlaygroundCustom';

# Finding the Top dApps on Coinbase

This guide shows you how to progressively build queries to discover and rank the top decentralized applications (Dapps) on Coinbase by market capitalization.

Follow these 4 queries step-by-step. Each one builds on the previous to achieve the final result: **a ranked list of top dApps on Coinbase**.

## Understanding the Progression

1. **Run a basic query** to view all dApps (organizations) in the system.
2. **Repeat the query**, but filtered for Coinbase-related Dapps (note how the results narrow down).
3. **Add performance metrics** from vaults (market cap, shares, and positions), data is now richer but not yet sorted.
4. **Repeat the query from Step 3**, but this time sort by market cap to show the top performing dApps first.

export const progressiveQueries = [
  {
    id: 'step1-discover',
    title: 'Step 1: Discover All Dapps (Organizations)',
    query: `query DiscoverAllDapps($limit: Int = 10) {
  atoms(
    limit: $limit
    where: { type: { _eq: "Thing" } }
  ) {
    term_id
    label
    image
    emoji
    type
    created_at
  }
}`,
    variables: {
      limit: 10
    }
  },
  {
    id: 'step2-filter',
    title: 'Step 2: Filter for Coinbase-Related Dapps',
    query: `query FilterCoinbaseDapps($limit: Int = 10) {
  atoms(
    limit: $limit
    where: {
      type: { _eq: "Thing" }
      _or: [
        { label: { _ilike: "%coinbase%" } }
        { data: { _ilike: "%coinbase%" } }
      ]
    }
  ) {
    term_id
    label
    image
    emoji
    type
    data
    created_at
  }
}`,
    variables: {
      limit: 10
    }
  },
  {
    id: 'step3-metrics',
    title: 'Step 3: Add Performance Metrics (Market Cap, Shares)',
    query: `query AddPerformanceMetrics($limit: Int = 10) {
  atoms(
    limit: $limit
    where: {
      type: { _eq: "Thing" }
      _or: [
        { label: { _ilike: "%coinbase%" } }
        { data: { _ilike: "%coinbase%" } }
      ]
    }
  ) {
    term_id
    label
    image
    emoji
    type

    term {
      vaults(where: { curve_id: { _eq: "1" } }) {
        total_shares
        current_share_price
        market_cap
        position_count
      }
    }

    creator {
      id
      label
    }
    created_at
  }
}`,
    variables: {
      limit: 10
    }
  },
  {
    id: 'step4-final',
    title: 'Step 4: FINAL RESULT - Ranked by Market Cap',
    query: `query GetTopDappsRanked($limit: Int = 10) {
  atoms(
    limit: $limit
    order_by: [{ term: { vaults_aggregate: { max: { market_cap: desc } } } }]
    where: {
      type: { _eq: "Thing" }
      _or: [
        { label: { _ilike: "%coinbase%" } }
        { data: { _ilike: "%coinbase%" } }
      ]
    }
  ) {
    term_id
    label
    image
    emoji
    type

    term {
      vaults(where: { curve_id: { _eq: "1" } }) {
        total_shares
        current_share_price
        market_cap
        position_count
      }
    }

    creator {
      id
      label
    }
    created_at
  }
}`,
    variables: {
      limit: 10
    }
  }
];

<GraphQLPlaygroundCustom queries={progressiveQueries} />
